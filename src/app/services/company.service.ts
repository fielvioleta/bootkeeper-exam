import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { BehaviorSubject } from 'rxjs/BehaviorSubject';

@Injectable()
export class CompanyService {
	private messageSource = new BehaviorSubject<any>([]);
	selected = this.messageSource.asObservable();

	constructor(
		private http: HttpClient,
	) { }

	getCompanies() {
		let promise = new Promise((resolve, reject) => {
			// let apiURL = `https://my.api.mockaroo.com/products.json?key=adf292d0`;
			// this.http.get(apiURL).toPromise().then(
			// 	res => {
			// 		resolve(res);
			// 	}
			// );
			const data = JSON.parse('[{"id":1,"company":"Rice Midstream Partners LP","number_of_employees":3359,"market_cap":"$2.49B","hq_city":"Golden","products":[{"name":"Bidens vulgata Greene","price":"$10.93","category":"Jewelery","inventory":75,"prior_week_sales_count":[{"monday":12,"tuesday":13,"wednesday":13,"thursday":26,"friday":28,"saturday":23,"sunday":12}]},{"name":"Twisselmannia Al-Shehbaz","price":"$3.00","category":"Books","inventory":69,"prior_week_sales_count":[{"monday":28,"tuesday":2,"wednesday":14,"thursday":13,"friday":25,"saturday":24,"sunday":1}]},{"name":"Cardamine diphylla (Michx.) Alph. Wood","price":"$0.43","category":"Shoes","inventory":86,"prior_week_sales_count":[{"monday":3,"tuesday":21,"wednesday":10,"thursday":17,"friday":27,"saturday":13,"sunday":17}]},{"name":"Stereocaulon sasakii Zahlbr. var. tomentosoides Lamb","price":"$48.70","category":"Grocery","inventory":61,"prior_week_sales_count":[{"monday":1,"tuesday":17,"wednesday":7,"thursday":19,"friday":12,"saturday":27,"sunday":5}]},{"name":"Salix commutata Bebb","price":"$5.95","category":"Home","inventory":53,"prior_week_sales_count":[{"monday":8,"tuesday":26,"wednesday":10,"thursday":8,"friday":23,"saturday":14,"sunday":12}]}]},{"id":2,"company":"Willamette Valley Vineyards, Inc.","number_of_employees":4071,"market_cap":"n/a","hq_city":"Agidel’","products":[{"name":"Tidestromia oblongifolia (S. Watson) Standl.","price":"$19.21","category":"Toys","inventory":92,"prior_week_sales_count":[{"monday":4,"tuesday":24,"wednesday":1,"thursday":11,"friday":9,"saturday":26,"sunday":1}]},{"name":"Penstemon harbourii A. Gray","price":"$35.41","category":"Jewelery","inventory":78,"prior_week_sales_count":[{"monday":16,"tuesday":18,"wednesday":3,"thursday":26,"friday":21,"saturday":25,"sunday":9}]},{"name":"Sidalcea diploscypha (Torr. \u0026 A. Gray) A. Gray","price":"$6.40","category":"Computers","inventory":47,"prior_week_sales_count":[{"monday":20,"tuesday":0,"wednesday":20,"thursday":18,"friday":12,"saturday":6,"sunday":7}]},{"name":"Viburnum nudum L. var. nudum","price":"$22.50","category":"Home","inventory":25,"prior_week_sales_count":[{"monday":25,"tuesday":9,"wednesday":7,"thursday":1,"friday":10,"saturday":26,"sunday":24}]},{"name":"Tussilago L.","price":"$34.90","category":"Music","inventory":30,"prior_week_sales_count":[{"monday":18,"tuesday":17,"wednesday":14,"thursday":16,"friday":19,"saturday":17,"sunday":6}]}]},{"id":3,"company":"NeuroDerm Ltd.","number_of_employees":3795,"market_cap":"$766.44M","hq_city":"Nova Granada","products":[{"name":"Hilaria belangeri (Steud.) Nash","price":"$28.42","category":"Kids","inventory":66,"prior_week_sales_count":[{"monday":4,"tuesday":4,"wednesday":15,"thursday":1,"friday":24,"saturday":5,"sunday":8}]},{"name":"Tilia japonica (Miq.) Simonk.","price":"$22.53","category":"Home","inventory":53,"prior_week_sales_count":[{"monday":21,"tuesday":14,"wednesday":4,"thursday":26,"friday":12,"saturday":28,"sunday":7}]},{"name":"Leptosiphon aureus (Nutt.) J.M. Porter \u0026 L.A. Johnson ssp. decorus (A. Gray) J.M. Porter \u0026 L.A. Johnson","price":"$48.20","category":"Kids","inventory":68,"prior_week_sales_count":[{"monday":8,"tuesday":27,"wednesday":8,"thursday":22,"friday":5,"saturday":20,"sunday":12}]}]},{"id":4,"company":"Blackrock Municipal 2020 Term Trust","number_of_employees":1851,"market_cap":"$320.35M","hq_city":"Mikuni","products":[{"name":"Lecanactis Körb.","price":"$4.41","category":"Books","inventory":6,"prior_week_sales_count":[{"monday":2,"tuesday":2,"wednesday":21,"thursday":8,"friday":3,"saturday":16,"sunday":22}]},{"name":"Lasiacis sorghoidea (Desv. ex Ham.) Hitchc. \u0026 Chase","price":"$28.53","category":"Electronics","inventory":78,"prior_week_sales_count":[{"monday":5,"tuesday":26,"wednesday":11,"thursday":4,"friday":9,"saturday":18,"sunday":22}]},{"name":"Eriogonum havardii S. Watson","price":"$17.80","category":"Games","inventory":26,"prior_week_sales_count":[{"monday":4,"tuesday":9,"wednesday":17,"thursday":16,"friday":21,"saturday":4,"sunday":5}]},{"name":"Hymenophyllum lanatum Fée","price":"$36.27","category":"Toys","inventory":36,"prior_week_sales_count":[{"monday":3,"tuesday":7,"wednesday":11,"thursday":7,"friday":22,"saturday":13,"sunday":24}]},{"name":"Erigeron oxyphyllus Greene","price":"$26.97","category":"Automotive","inventory":88,"prior_week_sales_count":[{"monday":22,"tuesday":9,"wednesday":5,"thursday":2,"friday":28,"saturday":11,"sunday":21}]}]},{"id":5,"company":"Cencosud S.A.","number_of_employees":1751,"market_cap":"$7.68B","hq_city":"Gamut","products":[{"name":"Jaegeria hirta (Lag.) Less.","price":"$15.06","category":"Shoes","inventory":0,"prior_week_sales_count":[{"monday":18,"tuesday":21,"wednesday":12,"thursday":7,"friday":23,"saturday":26,"sunday":17}]},{"name":"Iris munzii R.C. Foster","price":"$42.21","category":"Movies","inventory":1,"prior_week_sales_count":[{"monday":20,"tuesday":3,"wednesday":6,"thursday":0,"friday":7,"saturday":22,"sunday":21}]},{"name":"Malus ioensis (Alph. Wood) Britton var. ioensis","price":"$32.87","category":"Industrial","inventory":76,"prior_week_sales_count":[{"monday":8,"tuesday":16,"wednesday":14,"thursday":1,"friday":21,"saturday":8,"sunday":24}]},{"name":"Pterocaulon Elliott","price":"$24.82","category":"Toys","inventory":49,"prior_week_sales_count":[{"monday":9,"tuesday":17,"wednesday":18,"thursday":3,"friday":23,"saturday":8,"sunday":10}]},{"name":"Eriogonum wrightii Torr. ex Benth. var. pringlei (J.M. Coult. \u0026 Fisher) Reveal","price":"$15.59","category":"Jewelery","inventory":94,"prior_week_sales_count":[{"monday":24,"tuesday":22,"wednesday":28,"thursday":24,"friday":22,"saturday":13,"sunday":6}]}]},{"id":6,"company":"Knoll, Inc.","number_of_employees":4408,"market_cap":"$1.04B","hq_city":"Altos","products":[{"name":"Eriodictyon trichocalyx A. Heller var. trichocalyx","price":"$28.60","category":"Outdoors","inventory":73,"prior_week_sales_count":[{"monday":23,"tuesday":17,"wednesday":25,"thursday":15,"friday":19,"saturday":22,"sunday":5}]},{"name":"Mirabilis melanotricha (Standl.) Spellenb.","price":"$18.56","category":"Outdoors","inventory":24,"prior_week_sales_count":[{"monday":3,"tuesday":23,"wednesday":18,"thursday":23,"friday":28,"saturday":10,"sunday":6}]},{"name":"Evolvulus L.","price":"$15.46","category":"Games","inventory":2,"prior_week_sales_count":[{"monday":18,"tuesday":1,"wednesday":17,"thursday":17,"friday":9,"saturday":8,"sunday":27}]},{"name":"Calamagrostis canadensis (Michx.) P. Beauv. var. macouniana (Vasey) Stebbins","price":"$6.07","category":"Kids","inventory":70,"prior_week_sales_count":[{"monday":28,"tuesday":10,"wednesday":22,"thursday":18,"friday":15,"saturday":5,"sunday":24}]}]},{"id":7,"company":"Prospect Capital Corporation","number_of_employees":3395,"market_cap":"n/a","hq_city":"Malhou","products":[{"name":"Mucuna sloanei Fawc. \u0026 Rendle","price":"$36.47","category":"Electronics","inventory":10,"prior_week_sales_count":[{"monday":11,"tuesday":0,"wednesday":21,"thursday":13,"friday":19,"saturday":17,"sunday":19}]},{"name":"Eleocharis uniglumis (Link) Schult.","price":"$4.98","category":"Home","inventory":31,"prior_week_sales_count":[{"monday":5,"tuesday":7,"wednesday":8,"thursday":12,"friday":18,"saturday":14,"sunday":4}]},{"name":"Astragalus collinus Douglas ex G. Don","price":"$30.47","category":"Shoes","inventory":82,"prior_week_sales_count":[{"monday":27,"tuesday":16,"wednesday":12,"thursday":7,"friday":8,"saturday":18,"sunday":25}]}]},{"id":8,"company":"Werner Enterprises, Inc.","number_of_employees":1940,"market_cap":"$2.09B","hq_city":"Senhor do Bonfim","products":[{"name":"Limnophila fragrans Seem.","price":"$28.42","category":"Sports","inventory":43,"prior_week_sales_count":[{"monday":27,"tuesday":0,"wednesday":26,"thursday":13,"friday":21,"saturday":10,"sunday":21}]},{"name":"Cheilanthes ×fibrillosa (Davenport) Davenport ex Underw. (pro sp.)","price":"$35.78","category":"Books","inventory":1,"prior_week_sales_count":[{"monday":15,"tuesday":22,"wednesday":2,"thursday":6,"friday":15,"saturday":26,"sunday":17}]},{"name":"Isodendrion laurifolium A. Gray","price":"$43.53","category":"Jewelery","inventory":98,"prior_week_sales_count":[{"monday":24,"tuesday":25,"wednesday":21,"thursday":26,"friday":13,"saturday":8,"sunday":22}]}]},{"id":9,"company":"Eaton Corporation, PLC","number_of_employees":343,"market_cap":"$34.35B","hq_city":"Jeremi","products":[{"name":"Orthothecium diminutivum (Grout) H.A. Crum, Steere \u0026 L.E. Anderson","price":"$13.42","category":"Garden","inventory":10,"prior_week_sales_count":[{"monday":10,"tuesday":10,"wednesday":5,"thursday":18,"friday":21,"saturday":15,"sunday":12}]},{"name":"Desmodium humifusum (Muhl. ex Bigelow) Beck","price":"$15.69","category":"Grocery","inventory":67,"prior_week_sales_count":[{"monday":3,"tuesday":13,"wednesday":3,"thursday":16,"friday":11,"saturday":20,"sunday":7}]},{"name":"Maianthemum racemosum (L.) Link","price":"$19.43","category":"Movies","inventory":67,"prior_week_sales_count":[{"monday":28,"tuesday":4,"wednesday":10,"thursday":24,"friday":1,"saturday":8,"sunday":12}]},{"name":"Cylindropuntia whipplei (Engelm. \u0026 J.M. Bigelow) F.M. Knuth","price":"$6.14","category":"Toys","inventory":45,"prior_week_sales_count":[{"monday":7,"tuesday":5,"wednesday":14,"thursday":3,"friday":20,"saturday":12,"sunday":9}]},{"name":"Rumex conglomeratus Murray","price":"$35.08","category":"Baby","inventory":45,"prior_week_sales_count":[{"monday":18,"tuesday":5,"wednesday":16,"thursday":25,"friday":22,"saturday":4,"sunday":10}]}]},{"id":10,"company":"Embotelladora Andina S.A.","number_of_employees":4163,"market_cap":"n/a","hq_city":"Nerokoúros","products":[{"name":"Muhlenbergia texana Buckley","price":"$14.30","category":"Shoes","inventory":94,"prior_week_sales_count":[{"monday":18,"tuesday":1,"wednesday":23,"thursday":19,"friday":17,"saturday":9,"sunday":0}]},{"name":"Sporobolus giganteus Nash","price":"$40.34","category":"Shoes","inventory":96,"prior_week_sales_count":[{"monday":16,"tuesday":10,"wednesday":2,"thursday":2,"friday":10,"saturday":16,"sunday":11}]},{"name":"Townsendia scapigera D.C. Eaton","price":"$7.07","category":"Beauty","inventory":76,"prior_week_sales_count":[{"monday":25,"tuesday":2,"wednesday":25,"thursday":1,"friday":23,"saturday":7,"sunday":8}]},{"name":"Juglans boliviana (C. DC.) Dode","price":"$19.72","category":"Automotive","inventory":45,"prior_week_sales_count":[{"monday":15,"tuesday":8,"wednesday":17,"thursday":5,"friday":16,"saturday":0,"sunday":13}]}]}]');
			resolve(data);
		});
		return promise;
	}

	setSelectedTable(data : any) { 
		this.messageSource.next(data);
	}
}


